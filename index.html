<!-- Sources:
  https://stackoverflow.com/questions/15000341/how-to-display-a-binary-search-tree-using-css-html-and-a-bit-of-javascript
  http://jsfiddle.net/Limitlessisa/5Lhb0ron/
-->

<head>

<link rel='stylesheet' href='style.css' />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src='working-set.js'></script>
<script src='render.js'></script>

<!-- Compiled and minified CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

<!--Import Google Icon Font-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
          
<script>
  // Draw an example AVL trees
  $(document).ready(function() {
    console.log("hello");
    var rootNodeDemo = new AvlNode(10);
    rootNodeDemo.doOp('insert', 5);
    rootNodeDemo.doOp('insert', 3);
    rootNodeDemo.doOp('insert', 2);
    rootNodeDemo.doOp('insert', 6);
    rootNodeDemo.doOp('insert',  9);
    rootNodeDemo.doOp('insert', 15);
    rootNodeDemo.doOp('insert', 12);
    console.log(rootNodeDemo.toString());


    var treeHtml = getTreeHtmlOverall(rootNodeDemo);
    var container = $('.container');
    container.append(treeHtml);

  });

  /** Get HTML for an entire tree */
  function getTreeHtmlOverall(rootNode) {
    var mainDiv = document.createElement('div');
    mainDiv.classList.add('tree');

    var initialList = document.createElement('ul');
    var inner = getTreeHtml(rootNode);
    initialList.appendChild(inner);
    mainDiv.appendChild(initialList);

    return mainDiv;
  }

  /** Get inner HTML for an entire tree 
    (use for recursion, but the final tree
    needs extra HTML elements around it */
  function getTreeHtml(rootNode) {    
    var treeRoot = document.createElement('li');
    var rootValueDiv = document.createElement('div');
    rootValueDiv.appendChild(document.createTextNode(rootNode.value));
    treeRoot.appendChild(rootValueDiv);

    // Add children
    var children = document.createElement('ul');
    children.appendChild(getChildHtml(rootNode.leftChild));
    children.appendChild(getChildHtml(rootNode.rightChild));
    treeRoot.appendChild(children);

    return treeRoot;
  }

  function getChildHtml(child) {
    if (child) {
      return getTreeHtml(child);
    } else {
      var childNull = document.createElement('li');
      var childNullDiv = document.createElement('div');
      childNullDiv.classList.add('null-elt');
      childNullDiv.appendChild(document.createTextNode('null'));
      childNull.appendChild(childNullDiv);
      return childNull;
    }
  }


</script>

</head>

<body>

<p class="title">Dynamic Optimality: Working Set Structure</p>
<p class="title sub"> ccassidy@, rew@, smriti@ </p>

<div class="fixed-action-btn horizontal click-to-toggle">
  <a class="btn-floating btn-large cyan">
    <i class="material-icons">menu</i>
  </a>
  <ul>
    <li><input placeholder="Insert/del/search for..."></li>
    <li><a class="btn-floating green"><i class="material-icons">add</i></a></li>
    <li><a class="btn-floating red"><i class="material-icons">delete</i></a></li>
    <li><a class="btn-floating yellow darken-1"><i class="material-icons">search</i></a></li>
  </ul>
</div>

<div class="container"></div>

</body>

<!-- Example tree HTML:

<div class="tree">
    
  <ul>
    <li>
      <div> Main </div>
      <ul>
          <li><div>Sub-1</div></li>
          <li><div>Sub-2</div>
            <ul>
              <li><div>Sub-2-1</div></li>
              <li><div>Sub-2-2</div></li>
            </ul>  
          </li>
      </ul>                      
    </li>
  </ul>             
</div>

  -->
